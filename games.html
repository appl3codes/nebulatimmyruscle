<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Games | Nebula</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at center, #4B0082, #2b004d);
      color: white;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      overflow-x: hidden;
      opacity: 0;
      animation: fadeInPage 1.2s ease forwards;
      position: relative;
    }

    nav {
      position: fixed;
      top: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      background: rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      padding: 15px 0;
      z-index: 10;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin: 0 20px;
      font-size: 1.1em;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #c99cff;
    }

    h1 {
      margin-top: 100px;
      font-size: 2.5em;
      text-shadow: 0 0 15px #c99cff;
      animation: fadeUp 1.5s ease;
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      width: 90%;
      max-width: 1000px;
      margin: 40px auto;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 25px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 0 10px rgba(201, 156, 255, 0.1);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeUpCard 1s ease forwards;
    }

    .card:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(201, 156, 255, 0.3);
    }

    .card.fade-out {
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .card h2 {
      font-size: 1.6em;
      margin-top: 10px;
    }

    /* Modal (Fullscreen Game) */
    .game-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
      animation: fadeIn 0.5s ease forwards;
    }

    .game-content {
      position: relative;
      width: 90%;
      height: 85%;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 0 25px rgba(201, 156, 255, 0.4);
      animation: fadeUp 0.6s ease forwards;
    }

    .game-frame {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 20px;
    }

    .close-btn, .fullscreen-btn {
      position: absolute;
      top: 15px;
      background: none;
      border: 2px solid #c99cff;
      color: #c99cff;
      border-radius: 10px;
      padding: 8px 20px;
      cursor: pointer;
      font-size: 1em;
      transition: 0.3s;
      z-index: 10;
    }

    .close-btn:hover, .fullscreen-btn:hover {
      background: #c99cff;
      color: #2b004d;
    }

    .close-btn { right: 15px; }
    .fullscreen-btn { right: 120px; }

    /* Floating stars */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: float 10s linear infinite;
      opacity: 0.8;
    }

    @keyframes float {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-100vh); opacity: 0; }
    }

    /* Animations */
    @keyframes fadeInPage {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeUpCard {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

 <nav>
  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="games.html">Games</a>
    <a href="apps.html">Apps</a>
    <a href="more.html">More</a>
  </div>
</nav>



  <h1>Games</h1>

  <div class="games-grid">
    <div class="card" style="animation-delay: 0.2s;" onclick="openGame(event, 'Slope')">
      <h2>Slope</h2>
    </div>
    <div class="card" style="animation-delay: 0.4s;" onclick="openGame(event, 'Run3')">
      <h2>Run 3</h2>
    </div>
  </div>

  <!-- Fullscreen Modal -->
  <div class="game-modal" id="gameModal">
    <div class="game-content" id="gameContent">
      <button class="fullscreen-btn" onclick="toggleFullscreen()">Fullscreen</button>
      <button class="close-btn" onclick="closeGame()">Close</button>
      <iframe class="game-frame" id="gameFrame" src=""></iframe>
    </div>
  </div>

  <script>
    // Floating stars
    const numStars = 50;
    for (let i = 0; i < numStars; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      const size = Math.random() * 3 + 'px';
      star.style.width = size;
      star.style.height = size;
      star.style.left = Math.random() * 100 + 'vw';
      star.style.top = Math.random() * 100 + 'vh';
      star.style.animationDuration = (Math.random() * 10 + 5) + 's';
      document.body.appendChild(star);
    }

    // Game data
    const games = {
      Slope: "https://interstellar-v3-68n.pages.dev/play/slope",
      Run3: "https://interstellar-v3-68n.pages.dev/play/run3"
    };

    // Open Game in Modal
    function openGame(event, gameKey) {
      const card = event.currentTarget;
      card.classList.add('fade-out');
      setTimeout(() => {
        document.getElementById("gameFrame").src = games[gameKey];
        document.getElementById("gameModal").style.display = "flex";
        setTimeout(() => card.classList.remove('fade-out'), 400);
      }, 400);
    }

    // Close Game
    function closeGame() {
      const modal = document.getElementById("gameModal");
      const frame = document.getElementById("gameFrame");
      modal.style.display = "none";
      frame.src = ""; // stop game loading when closed
    }

    // Fullscreen toggle
    function toggleFullscreen() {
      const gameContent = document.getElementById("gameContent");
      if (!document.fullscreenElement) {
        gameContent.requestFullscreen().catch(err => {
          alert(`Error attempting fullscreen: ${err.message}`);
        });
      } else {
        document.exitFullscreen();
      }
    }

    // Press ESC to close modal
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeGame();
      }
    });
  </script>

</body>
</html>
